<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Discontinuous Galerkin solver with explicit time stepping.">
    <meta name="author" content="University of Siegen" >
    <link rel="icon" href="../../favicon.png">

    <title>Euler Testcase &ndash; Ateles</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="../../css/fontawesome.min.css" rel="stylesheet">
    <link href="../../css/brands.min.css" rel="stylesheet">
    <link href="../../css/regular.min.css" rel="stylesheet">
    <link href="../../css/solid.min.css" rel="stylesheet">
    <link href="../../css/v4-font-face.min.css" rel="stylesheet">
    <link href="../../css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="../../css/local.css" rel="stylesheet">
    <link href="../../css/pygments.css" rel="stylesheet">
    <script src="../../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../../index.html">Ateles </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../index.html">Documentation</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/absint.html">Abstract Interfaces</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/programs.html">Programs</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>Euler Testcase</h1>
    <div class="container p-2 mb-4 bg-light border rounded-3">
      <div class="row align-items-center justify-content-between">
        <div class="col">
          <ul class="list-inline" style="margin-bottom:0px; display:inline">
          </ul>
        </div>
        <div class="col">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../index.html'>Documentation</a></li>
                <li class="breadcrumb-item"><a href='index.html'>Tutorial</a></li>
              <li class="breadcrumb-item active" aria-current="page">Euler Testcase</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
      <div class="col-3">
        <div class="card card-body bg-light" id="sidebar-toc">
          <ul class="nav flex-column align-items">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">Documentation</a>
            </li>
          </ul>
          <hr>
          <nav class="nav nav-pills flex-column">
              <a class="nav-link" href="../apes_overview.html">APES Overview</a>
              <a class="nav-link" href="../build_and_run.html">Build and Run Ateles</a>
              <a class="nav-link" href="../examples/index.html">Example setups</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/acoustic/index.html">Acoustic Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/acoustic/gauss_densitypulse_2D/index.html">Gaussian Density Pulse Test Case</a>
              <a class="nav-link" href="../examples/acoustic/planar_wave_3D/index.html">Planar Wave</a>

                </nav>
              <a class="nav-link" href="../examples/euler/index.html">Euler Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/euler/1D/index.html">1D Euler Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/euler/1D/modalEstimate/index.html">Modal estimate for adaptive timesteps 1D</a>
              <a class="nav-link" href="../examples/euler/1D/piston/index.html">Formation of a shock wave ahead of a moving piston in 1D</a>
              <a class="nav-link" href="../examples/euler/1D/piston_modereduction/index.html">Formation of a shock wave ahead of a moving piston in 1D</a>
              <a class="nav-link" href="../examples/euler/1D/shock_stabilization_parallel/index.html">Shock Stabilization Test Case</a>
              <a class="nav-link" href="../examples/euler/1D/toro1_x/index.html">Toro Validation Test Case</a>

                </nav>
              <a class="nav-link" href="../examples/euler/2D/index.html">2D Euler Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/euler/2D/gauss_densitypulse_spongelayer/index.html">Gaussian Density Pulse in 2D</a>
              <a class="nav-link" href="../examples/euler/2D/modalEstimate/index.html">Modal estimate for adaptive timesteps in 2D</a>
              <a class="nav-link" href="../examples/euler/2D/shock_stabilization_parallel/index.html">Shock Stabilization Test Case</a>
              <a class="nav-link" href="../examples/euler/2D/toro1_x/index.html">Toro1 Validation Test Case in X direction</a>
              <a class="nav-link" href="../examples/euler/2D/toro1_y/index.html">Toro1 Validation Test Case in Y direction</a>
              <a class="nav-link" href="../examples/euler/2D/toro2_x/index.html">Toro2 Setup along X for 2D Euler equations</a>
              <a class="nav-link" href="../examples/euler/2D/toro3_x/index.html">Toro3 Setup along X for 2D Euler equations</a>
              <a class="nav-link" href="../examples/euler/2D/toro4_x/index.html">Toro4 setup for 2D Euler equations with a positivity preserving filter</a>
              <a class="nav-link" href="../examples/euler/2D/vorticity/index.html">Vorticity Tracking</a>
              <a class="nav-link" href="../examples/euler/2D/wedge/index.html">Supersonic movement of a wedge</a>
              <a class="nav-link" href="../examples/euler/2D/wedge_modereduction/index.html">Supersonic movement of a wedge</a>

                </nav>
              <a class="nav-link" href="../examples/euler/3D/index.html">3D Euler Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/euler/3D/gauss_densitypulse_deriv_quantity/index.html">Pulse in density with derived quantity</a>
              <a class="nav-link" href="../examples/euler/3D/gauss_densitypulse_fpt/index.html">Euler 3D pulse in density with FPT</a>
              <a class="nav-link" href="../examples/euler/3D/gauss_densitypulse_fxt/index.html">Euler 3D setup of Gaussian pulse in density with FXT</a>
              <a class="nav-link" href="../examples/euler/3D/gauss_densitypulse_l2p/index.html">Euler 3D setup with pulse in density and L2 projection</a>
              <a class="nav-link" href="../examples/euler/3D/gauss_densitypulse_spongelayer/index.html">Euler 3D pulse in density with sponge</a>
              <a class="nav-link" href="../examples/euler/3D/modalEstimate/index.html">Modal estimate in Euler 3D</a>
              <a class="nav-link" href="../examples/euler/3D/multilevel/index.html">Material with Multilevel in Euler 3D</a>
              <a class="nav-link" href="../examples/euler/3D/overview/index.html">Configuration overview for Euler 3D simulations</a>
              <a class="nav-link" href="../examples/euler/3D/p_polynomials/index.html">P-polynomial space</a>
              <a class="nav-link" href="../examples/euler/3D/qCriterion_deriv_quantity/index.html">Q-Criterion Tracking in Euler 3D</a>
              <a class="nav-link" href="../examples/euler/3D/shear_layer_Q4/index.html">Shear-Layer Q4</a>
              <a class="nav-link" href="../examples/euler/3D/shear_layer_Q4_parallel/index.html">Shear-Layer Q4</a>
              <a class="nav-link" href="../examples/euler/3D/shear_layer_Q8/index.html">Shear-Layer Q8</a>
              <a class="nav-link" href="../examples/euler/3D/shock_stabilization_localrefinement/index.html">Shock Stabilization in Euler 3D with local refinement</a>
              <a class="nav-link" href="../examples/euler/3D/shock_stabilization_parallel/index.html">Shock stabilization for 3D Euler equations with RK-Taylor</a>
              <a class="nav-link" href="../examples/euler/3D/shock_stabilization_periodic/index.html">Shock stabilization in periodic domain</a>
              <a class="nav-link" href="../examples/euler/3D/toro1_x/index.html">Toro1 Riemann problem in X direction</a>
              <a class="nav-link" href="../examples/euler/3D/toro1_y/index.html">Toro1 Riemann problem in Y direction</a>
              <a class="nav-link" href="../examples/euler/3D/toro1_z/index.html">Toro1 Riemann problem in Z direction</a>
              <a class="nav-link" href="../examples/euler/3D/vorticity/index.html">Vorticity Test Case</a>

                </nav>

                </nav>
              <a class="nav-link" href="../examples/heat/index.html">Heat Conduction</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/heat/1D/index.html">Heat Conduction in 1D</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/heat/1D/sinus_temperature/index.html">Sinus Function Changing Temperature</a>

                </nav>
              <a class="nav-link" href="../examples/heat/2D/index.html">Heat Conduction in 2D</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/heat/2D/sinus_temperature/index.html">Sinus Function Changing Temperature</a>

                </nav>
              <a class="nav-link" href="../examples/heat/3D/index.html">Heat Conduction in 3D</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/heat/3D/sinus_temperature/index.html">Sinus Function Changing Temperature</a>

                </nav>

                </nav>
              <a class="nav-link" href="../examples/lineareuler/index.html">Linearized Euler Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/lineareuler/2D/index.html">2D Linearized Euler Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/lineareuler/2D/gauss_pulse/index.html">Gaussian pulse in pressure with 2d linearized Euler equations</a>
              <a class="nav-link" href="../examples/lineareuler/2D/transientBackground/index.html">Transient background state in 2D linearized Euler</a>

                </nav>
              <a class="nav-link" href="../examples/lineareuler/3D/index.html">3D Linearized Euler Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/lineareuler/3D/gauss_pulse/index.html">Gaussian pulse in density for 3D linearized Euler equations</a>
              <a class="nav-link" href="../examples/lineareuler/3D/gradient/index.html">Tracking of gradients in 3D linearized Euler equations</a>
              <a class="nav-link" href="../examples/lineareuler/3D/transientBackground/index.html">Transient background state in 3D linearized Euler</a>

                </nav>

                </nav>
              <a class="nav-link" href="../examples/maxwell/index.html">Maxwell Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/maxwell/pec_scatter_inhomogenous_matFun_Q8_3D/index.html">Perfectly_scatter_Inhomogenous_Materia</a>
              <a class="nav-link" href="../examples/maxwell/pec_scatter_inhomogenous_matVar_Q8_3D/index.html">Perfectly_scatter_Inhomogenous_Materia</a>
              <a class="nav-link" href="../examples/maxwell/periodic_oscillator_P8_3D/index.html">Periodic_Oscillator</a>
              <a class="nav-link" href="../examples/maxwell/periodic_oscillator_Q8_3D/index.html">Periodic_Oscillator</a>
              <a class="nav-link" href="../examples/maxwell/rectangular_wave_Q8_3D/index.html">Rectangle Wave</a>

                </nav>
              <a class="nav-link" href="../examples/maxwelldivcorr/index.html">Maxwell Equations With Divergence Correction</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/maxwelldivcorr/periodic_oscillator_P8_3D/index.html">Periodic_Oscillator</a>
              <a class="nav-link" href="../examples/maxwelldivcorr/periodic_oscillator_Q8_3D/index.html">Periodic_Oscillator</a>

                </nav>
              <a class="nav-link" href="../examples/maxwellpml/index.html">Maxwell Equations With Perfectly Matched Layers</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/maxwellpml/cylinder_scattering_Q8_2D/index.html">Perfectly matched Layer test case</a>

                </nav>
              <a class="nav-link" href="../examples/navierstokes/index.html">Navier-Stokes Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/navierstokes/2D/index.html">2D Navier-Stokes Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/navierstokes/2D/constant_state/index.html">Constant State</a>
              <a class="nav-link" href="../examples/navierstokes/2D/shear_hat/index.html">Shear hat 2D</a>
              <a class="nav-link" href="../examples/navierstokes/2D/viscous_vortex/index.html">Viscous Vortex (TGV) 2D</a>

                </nav>
              <a class="nav-link" href="../examples/navierstokes/3D/index.html">3D Navier-Stokes Equations</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../examples/navierstokes/3D/shear_hat/index.html">Shear hat 3D</a>
              <a class="nav-link" href="../examples/navierstokes/3D/shear_tube/index.html">Shear tube 3D</a>

                </nav>

                </nav>

                </nav>
              <a class="nav-link" href="../init.html">Initialization</a>
              <a class="nav-link" href="../material.html">Material</a>
              <a class="nav-link" href="../neumann_boundaries.html">Neumann boundary conditions</a>
              <a class="nav-link" href="../new_eqn_system.html">Introducing a New Equation System</a>
              <a class="nav-link" href="../polynomials.html">Polynomials Library</a>
              <a class="nav-link" href="../postprocess_filtering.html">Postprocess Filtering</a>
              <a class="nav-link" href="index.html">Tutorial</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link active disabled" href="euler.html">Euler Testcase</a>
              <a class="nav-link" href="general.html">General Input File Information</a>
              <a class="nav-link" href="maxwell.html">Maxwell Testcase</a>
              <a class="nav-link" href="postprocessing.html">Postprocessing with atl_harvesting</a>
              <a class="nav-link" href="procedure.html">General Procedure for Running the Testcases</a>
              <a class="nav-link" href="source_term.html">Source Term</a>
              <a class="nav-link" href="tracking.html">Tracking</a>

                </nav>
          </nav>
        </div>
      </div>

    <div class="col-9" id='text'>
      <p>This section describes running the testcase using the
<a href="https://en.wikipedia.org/wiki/Euler_equations_(fluid_dynamics)">Euler equations</a>.
Here we would take a small cubic geometry and define a gauss-pulse in density,
i.e we set the initial density such that
it has the peak in the center of the cube
and it decreases towards the sides making a
<a href="http://en.wikipedia.org/wiki/Gaussian_function">gaussian-pulse</a>.
Then we would give some velocity in one spatial direction
(here, we choose x- direction),
and watch this pulse in density move through the cube.</p>
<p>We assume that you already have read the
<a href="procedure.html">General Procedure for Running the Testcases</a>
and the
<a href="general.html">General Input File Information</a>.</p>
<div class="toc">
<ul>
<li><a href="#the-input-lua-file">The Input Lua File</a></li>
<li><a href="#general-simulation-settings">General Simulation Settings</a></li>
<li><a href="#geometry">Geometry</a></li>
<li><a href="#initial-conditions">Initial Conditions</a></li>
<li><a href="#scheme">Scheme</a></li>
<li><a href="#defining-the-equations">Defining the Equations</a></li>
<li><a href="#global-material">Global Material</a></li>
<li><a href="#restart-settings">Restart Settings</a></li>
</ul>
</div>
<h2 id="the-input-lua-file">The Input Lua File</h2>
<p>In this tutorial, we will show
and examine the input file for the Euler testcase.
Because this input file is specifically designed for the Euler testcase,
it does not make use of all the available options.
A complete input file with all available settings
can be found in the ateles folder <code>ateles/ateles.lua</code>.</p>
<h2 id="general-simulation-settings">General Simulation Settings</h2>
<p>For clarity we first define some variables, which we will use later.
We will simulate a gaussian pulse in density using modal
<a href="https://en.wikipedia.org/wiki/Discontinuous_Galerkin_method">DG</a> scheme,
hence here we would just name it as <code>gPulseDens_euler_modg</code>.
In this example we are going to simulate <script type="math/tex">\frac{1}{200}</script> seconds
(<code>max = cubeLength/velocityX/4</code>).
Every 10th iteration information
about the current timestep is printed to the screen.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">-- the length of the cube</span>
<span class="n">cubeLength</span> <span class="o">=</span> <span class="mf">2.0</span>

<span class="c1">-- the refinement level of the octree</span>
<span class="n">level</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1">-- transport velocity of the pulse in x direction.</span>
<span class="n">velocityX</span> <span class="o">=</span> <span class="mi">100</span>

<span class="c1">-- global simulation options</span>
<span class="n">simulation_name</span> <span class="o">=</span> <span class="s1">&#39;gPulseDens_euler_modg&#39;</span>   <span class="c1">-- the name of the simualtion</span>
<span class="n">sim_control</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">time_control</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">interval</span> <span class="o">=</span> <span class="p">{</span> <span class="n">iter</span> <span class="o">=</span> <span class="mi">10</span> <span class="p">},</span>
    <span class="n">min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">cubeLength</span> <span class="o">/</span> <span class="n">velocityX</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>       <span class="c1">-- final simulation time</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="geometry">Geometry</h2>
<p>For the geometry we choose a predefined cube
with periodic bounderaies and no obstacles.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">-- mesh definitions</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">predefined</span> <span class="o">=</span> <span class="s1">&#39;cube&#39;</span><span class="p">,</span>
  <span class="n">origin</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">cubeLength</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span>
    <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">cubeLength</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span>
    <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">cubeLength</span> <span class="o">/</span> <span class="mf">2.0</span>
  <span class="p">},</span>
  <span class="n">length</span> <span class="o">=</span> <span class="n">cubeLength</span><span class="p">,</span>
  <span class="n">refinementLevel</span> <span class="o">=</span> <span class="n">level</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="initial-conditions">Initial Conditions</h2>
<p>Here for our case we will specify an initial condition
for the gauss-pulse in density (i.e set the initial density
such that it has a peak in the middle of the domain,
and decreases quickly towards the sides)
and make it travel in the x-direction.
This could also be a check for your boundary conditions
or just to visualize your numerical error
that smears out this gauss-pulse in time.
So, we set the <code>velocityY</code> and <code>velcoityZ</code> to zero
and give some value to the <code>velcoityX</code> and <code>pressure</code>.
For <code>density</code> we have a set of predefined variables
providing necessary information for the gauss pulse.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">-- initial conditions</span>
<span class="n">initial_condition</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">density</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">predefined</span> <span class="o">=</span> <span class="s1">&#39;gausspulse&#39;</span><span class="p">,</span>
    <span class="n">center</span> <span class="o">=</span> <span class="p">{</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">},</span>  <span class="c1">-- gauss pulse center</span>
    <span class="n">halfwidth</span> <span class="o">=</span> <span class="mf">0.20</span><span class="p">,</span>            <span class="c1">-- half width of gauss pulse from center</span>
    <span class="n">amplitude</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span>             <span class="c1">-- height or magnitude of gauss pulse</span>
    <span class="n">background</span> <span class="o">=</span> <span class="mf">1.225</span>           <span class="c1">-- reference value. In case of density, it is reference density.</span>
  <span class="p">},</span>
  <span class="n">pressure</span> <span class="o">=</span> <span class="mi">100000</span><span class="p">,</span>
  <span class="n">velocityX</span> <span class="o">=</span> <span class="n">velocityX</span><span class="p">,</span>
  <span class="n">velocityY</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
  <span class="n">velocityZ</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="scheme">Scheme</h2>
<p>For the variable <code>spatial</code> we use the predefined name <code>modg</code>
which represents the modal Discontinuous Galerkin Scheme.
Similarly, for the time stepping scheme we have the variable <code>temporal</code>.
We use the predefined <code>explicitRungeKutta</code>
and are able to perform multi-step
<a href="https://en.wikipedia.org/wiki/Runge–Kutta_methods">Runge-Kutta</a>
by setting the <code>steps</code>.
To control the timesteps we use the
<a href="https://en.wikipedia.org/wiki/Courant–Friedrichs–Lewy_condition">CFL number</a>
which can be specified in the <code>control</code> variable.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">-- scheme definitions</span>
<span class="n">scheme</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">-- the spatial discretization scheme</span>
  <span class="n">spatial</span> <span class="o">=</span>  <span class="p">{</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;modg&#39;</span><span class="p">,</span>            <span class="c1">-- we use the modal discontinuous Galerkin scheme</span>
    <span class="n">m</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>                    <span class="c1">-- the maximal polynomial degree for each spatial direction</span>
    <span class="n">dealiasFactor</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>      <span class="c1">-- factor to remove aliases: 1.0 means no additional dealiasing</span>
    <span class="n">blocksize</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>           <span class="c1">-- the minimal blocksize for the FPT</span>
    <span class="n">fftMultiThread</span> <span class="o">=</span> <span class="kc">true</span>     <span class="c1">-- use multithreaded version of FFTW</span>
  <span class="p">},</span>
  <span class="c1">-- the temporal discretization scheme</span>
  <span class="n">temporal</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;explicitRungeKutta&#39;</span><span class="p">,</span>  <span class="c1">-- &#39;explicitEuler&#39;</span>
    <span class="n">steps</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="c1">-- how to control the timestep</span>
    <span class="n">control</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;cfl&#39;</span><span class="p">,</span>   <span class="c1">-- the name of the timestep control mechanism</span>
      <span class="n">cfl</span>  <span class="o">=</span> <span class="mf">0.8</span>      <span class="c1">-- Courant_Friedrichs_Lewy number</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="defining-the-equations">Defining the Equations</h2>
<p>The equations that we solve are the Euler equations
and it can be given through the input <code>name</code> in the <code>equation</code> table.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">-- equation definitions</span>
<span class="n">equation</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">name</span>   <span class="o">=</span> <span class="s1">&#39;euler&#39;</span><span class="p">,</span>        <span class="c1">-- we solve euler equations</span>
  <span class="n">therm_cond</span> <span class="o">=</span> <span class="mf">2.555e-02</span><span class="p">,</span>  <span class="c1">-- thermal conductivity (default = 6.953195-310)</span>
  <span class="n">isen_coef</span> <span class="o">=</span> <span class="mf">1.4</span><span class="p">,</span>         <span class="c1">-- isentropic coefficient</span>
  <span class="n">r</span>      <span class="o">=</span> <span class="mf">296.0</span><span class="p">,</span>          <span class="c1">-- ideal gas constant</span>
  <span class="n">material</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">characteristic</span> <span class="o">=</span> <span class="s1">&#39;global_characteristic&#39;</span><span class="p">,</span>
    <span class="n">relax_velocity</span> <span class="o">=</span> <span class="s1">&#39;global_relax_velocity&#39;</span><span class="p">,</span>
    <span class="n">relax_temperature</span> <span class="o">=</span> <span class="s1">&#39;global_relax_temperature&#39;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">-- (cv) heat capacity</span>
<span class="n">equation</span><span class="p">[</span><span class="s2">&quot;cv&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">equation</span><span class="p">[</span><span class="s2">&quot;r&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">equation</span><span class="p">[</span><span class="s2">&quot;isen_coef&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span>
</code></pre></div>

<h2 id="global-material">Global Material</h2>
<p>Here we define the global material for Euler 3D.
It consists of three different components:</p>
<ul>
<li>characteristics with one scalar,</li>
<li>relax_velocity with three scalars and</li>
<li>relax_temperature with one scalar.</li>
</ul>
<p>Thus we need five scalars for this equation system.
As this is the global fallback material,
we define each material to be a neutral term,
which in this case is 0.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">-- material variables</span>
<span class="n">variable</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">{</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;global_characteristic&quot;</span><span class="p">,</span>
    <span class="n">ncomponents</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">vartype</span> <span class="o">=</span> <span class="s2">&quot;st_fun&quot;</span><span class="p">,</span>
    <span class="n">st_fun</span> <span class="o">=</span> <span class="p">{</span> <span class="n">const</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;global_relax_velocity&quot;</span><span class="p">,</span>
    <span class="n">ncomponents</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">vartype</span> <span class="o">=</span> <span class="s2">&quot;st_fun&quot;</span><span class="p">,</span>
    <span class="n">st_fun</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">const</span> <span class="o">=</span> <span class="p">{</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;global_relax_temperature&quot;</span><span class="p">,</span>
    <span class="n">ncomponents</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">vartype</span> <span class="o">=</span> <span class="s2">&quot;st_fun&quot;</span><span class="p">,</span>
    <span class="n">st_fun</span> <span class="o">=</span> <span class="p">{</span> <span class="n">const</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="restart-settings">Restart Settings</h2>
<p>We want dumping restarts every 10th itertion till the end of the simulation.
Because we are not restarting from a file the variable <code>read</code> is commented out.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">-- configuration for the restart file</span>
<span class="n">restart</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">---- file to restart from</span>
  <span class="c1">--read = &#39;./restart/gPulseDens_euler_modg_lastHeader.lua&#39;,</span>

  <span class="c1">-- folder to write restart data to</span>
  <span class="n">write</span> <span class="o">=</span> <span class="s1">&#39;./restart/&#39;</span><span class="p">,</span>
  <span class="c1">-- temporal definition of restart write</span>
  <span class="n">time_control</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">interval</span> <span class="o">=</span> <span class="p">{</span> <span class="n">iter</span> <span class="o">=</span> <span class="mi">10</span> <span class="p">},</span>
    <span class="n">min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">sim_control</span><span class="p">.</span><span class="n">time_control</span><span class="p">.</span><span class="n">max</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              Ateles
 was developed by University of Siegen<br>              &copy; 2025 
<br /><small>f833d91a3fcc</small></p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2025-11-14T08:59:48.070370+0000             </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>